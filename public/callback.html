<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Transaction Status</title>
    <script>
        // Function to get query parameters from the URL
        function getQueryParameters() {
            var queryString = window.location.search;
            var params = new URLSearchParams(queryString);
            return params;
        }

        // Function to render query parameters
        function renderQueryParameters() {
            var params = getQueryParameters();
            var output = `<div class="container"><h2>Transaction Status:</h2><ol class="list-group list-group-numbered" >`;
            let informationKeys  = ['buyerFirstNm','buyerLastNm','cardNo','holderNm','bankName','amount','merTrxId']
            params.forEach(function(value, key) {
                let colorClass = '';
                if (key == 'resultMsg') {
                    if (value == 'SUCCESS') {
                        colorClass = 'list-group-item-success';
                    } else {
                        colorClass = 'list-group-item-warning';
                    }
                }
                if (informationKeys.includes(key) ) {
                    colorClass = 'list-group-item-info';
                }
                output += `<li class="list-group-item overflow-auto ${colorClass}"><strong>` + key + ":</strong> " + value + "</li>";
            });

            output += "</ol></div>";
            document.getElementById("output").innerHTML = output;
        }

        // Call the function when the page loads
        window.onload = renderQueryParameters;
    </script>
</head>
<body>
    <div id="output"></div>
</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</html>
